{% extends 'core/base.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}
<h1 style="Color: white;">Mis Datos</h1>
<form id="form" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div style="border: 10px solid; border-color: black;" class="container-fluid container card my-5">
      <div class="row m-3">
        <!-- AREA DE DATOS BASICOS: username, nombre, apellidos, correo y contraseñas -->
        <div class="col-sm-12 col-md-7">
          {{ form_usuario|as_bootstrap_form:'help_text_visible=False'}}
          <!-- AREA DE DATOS DE PERFIL: rut, dirección y subscrito (VER COMENTARIO "CHECKBOX SUBSCRITO" en script.js)  -->
          {{ form_perfil|as_bootstrap_form:'help_text_visible=False'}}
        </div>

        <!-- AREA DE IMAGEN DE PERFIL -->
        <div class="col-sm-12 col-md-5 d-flex flex-column justify-content-center align-items-center">
          <div class="row">
            <!-- AREA DE CUADRO DE IMAGEN: Muestra la Imagen de perfil -->
            <div class="col-sm-12" style="height: 220px">
              <img id="cuadro-imagen" name="cuadro-imagen" src="/media/{{ user.perfil.imagen }}">
            </div>
          </div>
        </div>
      </div>
      <!-- AREA DE BOTONES -->
      <div class="mt-2 mb-3 text-center">
        <button type="submit" class="btn btn-primary btn-block m-1">Actualizar mis datos</button>
        <!-- AREA DE BOTON DE SELECCIONAR IMAGEN: Reemplaza el botón "Seleccionar archivo" por otro con Bootstrap (VER COMENTARIO "BOTON IMAGEN" en script.js) -->
        <button onclick="event.preventDefault(); document.getElementById('id_imagen').click();" class="btn btn-primary btn-block m-1"> Seleccionar imagen </button>
      </div>
  </div>
</form>

{% endblock content %}

{% block script %}
  <script src="{% static 'core/js/misdatos.js' %}"></script>
{% endblock script %}